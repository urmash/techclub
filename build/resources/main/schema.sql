CREATE TABLE IF NOT EXISTS hobby_group (
    id INT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    name VARCHAR(50) NOT NULL,
    description VARCHAR(255),
    created_at TIMESTAMP NOT NULL
);

CREATE TABLE IF NOT EXISTS participant (
    id INT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    first_name VARCHAR(50) NOT NULL,
    last_name VARCHAR(50) NOT NULL,
    joined_at TIMESTAMP NOT NULL
);

CREATE TABLE IF NOT EXISTS activity (
    id INT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    hobby_group_id INT NOT NULL,
    name VARCHAR(50) NOT NULL,
    scheduled_at TIMESTAMP NOT NULL,
    FOREIGN KEY (hobby_group_id) REFERENCES hobby_group(id)
);

CREATE TABLE IF NOT EXISTS membership (
    hobby_group_id INT NOT NULL,
    participant_id INT NOT NULL,
    joined_at TIMESTAMP NOT NULL,
    PRIMARY KEY (hobby_group_id, participant_id),
    FOREIGN KEY (hobby_group_id) REFERENCES hobby_group(id),
    FOREIGN KEY (participant_id) REFERENCES participant(id)
);
